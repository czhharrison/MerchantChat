# 商家智能助手系统（MerchantChat Assistant）

## 🧠 项目简介

《商家智能助手系统》旨在为中小电商商家构建一个集成智能推荐、内容生成、策略分析与运营建议的智能助理平台。该系统基于 RAG（Retrieval-Augmented Generation）架构，融合 LLM Agent 智能体控制机制，能够辅助商家快速生成商品文案、推荐策略，并评估预期效果，从而提升商品点击率、转化率及整体运营效率。

本项目以 Langchain-Chatchat 为基础进行深度改造，结合“搜广推”核心算法，实现智能问答 + 策略检索 + 内容生成 + 多轮决策一体化的智能运营平台。

---

## 🎯 项目背景与动机

当前中小商家在电商平台（如淘宝、京东、拼多多、抖音电商）面临如下问题：

- 缺乏专业的运营团队，商品内容质量不高；
- 无法精准匹配推荐策略，投放效率低；
- 对平台活动规则、内容风格等了解不全；
- 生成优质标题、广告文案、关键词困难；
- 无法基于数据智能优化策略。

随着大语言模型（LLM）、知识增强检索（RAG）与智能 Agent 技术的发展，我们可以构建一套轻量、智能、自动化的商家助理系统，为中小商家赋能。

---

## 🛠 项目核心功能

| 模块名称       | 功能说明                                                 |
|----------------|----------------------------------------------------------|
| ✅ 内容生成模块 | 根据商品信息自动生成标题、描述、广告文案、标签关键词等       |
| ✅ 策略推荐模块 | 检索历史成功策略文档，结合商品特征和活动目标生成投放建议     |
| ✅ RAG 问答模块 | 支持商家提问平台规则、活动流程、选品方法等，智能问答支持中文  |
| ✅ CTR 评估模块 | 模拟生成内容的点击率/转化率（关键词覆盖率 + 打分函数）       |
| ✅ 多轮 Agent   | 管理策略生成 → 效果评估 → 再生成 → 输出结果等决策链路        |
| ✅ Web UI      | 通过可视化页面让商家交互式输入商品信息，输出策略建议和文案     |

---

## 🧩 技术栈与架构

- 💡 LLM：ChatGLM3、Mistral、GPT-3.5（可切换、可量化）
- 🔍 检索：FAISS + MiniLM/BGE 向量化知识库
- 🧠 框架：LangChain（支持 Tool 调用、Agent 控制）
- 📄 文档加载：PDF/MD/TXT -> 文本切块 -> 向量存储
- 🧪 模拟评估：关键词覆盖率函数 + 简单得分排序
- 🌐 前端：FastAPI WebUI / Streamlit DEMO

### 📦 架构图（简要）

```text
          ┌──────────────────────┐
          │    用户输入商品信息    │
          └─────────┬────────────┘
                    ↓
          ┌──────────────────────┐
          │  Agent 判断意图 & 控制流程 │
          └─────────┬────────────┘
                    ↓
     ┌────────────┬────────────┬─────────────┐
     │   内容生成模块   │   策略推荐模块   │   RAG问答模块   │
     └────┬─────────┴────┬────────┘
          ↓               ↓
     CTR模拟器       推荐策略输出
          ↓               ↓
     ┌──────────────────────┐
     │     输出最佳标题 + 策略 + 评分     │
     └──────────────────────┘
```
## ⚙️ 实现细节
### ✅ Langchain-Chatchat 复现与改造
- 成功运行 Langchain-Chatchat，掌握其知识库构建、向量检索、Agent 工具机制；

- 替换知识库为商家运营资料、内容范例、平台活动规范文档；

- 自定义工具函数（Tool）用于标题生成、策略建议、CTR 估分；

- 注册新工具至 Agent 控制流程，支持自动调用和任务链推进。

### ✅ 工具模块示例
```bash
@tool
def generate_product_title(product_info: str) -> str:
    return f"【爆款推荐】{product_info}，限时优惠！"

@tool
def estimate_ctr(title: str, keywords: list) -> float:
    count = sum([1 for kw in keywords if kw in title])
    return round(count / len(keywords), 2)
```

## ✨ 项目亮点
- ✅ 实现了推荐系统中“搜广推”三环节中的策略生成 + 内容生成 + 简单评估闭环；

- ✅ 支持多工具协作的智能体控制流程，具备 Agent 多轮对话能力；

- ✅ 可量化模型部署，适配国产大模型与轻量化小模型；

- ✅ 模块解耦，可独立部署或组合复用（文案生成、推荐策略、问答模块等）；

- ✅ 知识库可定制，适配多平台商家（如淘宝、京东、抖音、小红书）；

## ✅ 预期成果
- 🎯 系统可根据任意商品属性生成 2–3 套标题+策略组合；

- 📈 输出推荐方案同时可给出点击率评分（近似）；

- 💬 商家可提问平台规则、活动策略，系统即时响应；

- 🧪 可对比不同策略生成效果，分析历史 vs 当前方案优劣；

- 📦 可通过 Web 页面进行完整流程操作和交互演示；

## 🚀 项目应用价值
- 为中小商家提供零学习成本的运营辅助工具；

- 可集成进 SaaS 电商平台、微信小程序、电商 AI 营销后台；

- 拓展方向包括内容 A/B 测试、文生图、语音问答、直播脚本生成；

- 适合作为 RAG × Agent × 搜广推 的实践项目或比赛项目提交；

## 📌 可扩展方向（未来工作）
- 支持多模态输入（图文商品识别 + 文案生成）；

- 加入搜索重写 / query suggestion 组件；

- 多 Agent 协同推荐：内容 Agent + 评估 Agent + 用户画像 Agent；

- 引入 RLHF 策略评估优化闭环；

## 🗂️ 项目目录建议（结构）
```bash
merchant-assistant/
├── knowledge/              # 商家运营知识库文档
├── cli/                    # 文档向量构建脚本
├── agent/                  
│   ├── tools/              # 自定义运营策略工具
│   └── agent_executor.py   # Agent 控制核心
├── model/                  # 模型配置与调用
├── ui/                     # 可视化前端页面（Streamlit or Web）
├── docs/                   # 项目说明文档、架构图
└── README.md               # 项目总览
```